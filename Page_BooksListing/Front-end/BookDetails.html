<!DOCTYPE html>
<html>
<head>
  <title>Book Store - Book Details</title>
  <!-- CSS styles here -->
</head>
<body>
  <h1>Book Details</h1>
  <div id="bookDetails"></div>
  <button id="addToCartButton">Add to Cart</button>

  <script>
    // Function to get the book ID from the URL
    function getBookIdFromURL() {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get('id');
    }

    // Function to fetch book details from the backend
    function fetchBookDetails(bookId) {
      fetch(`/api/books/${bookId}`)
        .then(response => {
          if (!response.ok) {
            throw new Error('Book not found');
          }
          return response.json();
        })
        .then(book => displayBookDetails(book))
        .catch(error => console.error('Error fetching book details:', error));
    }
    // Function to display the book details on the page
    function displayBookDetails(book) {
      const bookDetailsContainer = document.getElementById('bookDetails');
      bookDetailsContainer.innerHTML = `
        <h2>${book.title}</h2>
        <p>Author: ${book.author}</p>
        <p>Genre: ${book.genre}</p>
        <p>Condition: ${book.condition}</p>
        <p>Trade For: ${book.trade_for}</p>
        <p>Price: $${book.price}</p>
        <img src="${book.image}" alt="${book.title} cover" width="200">
        <p>Description: ${book.description}</p>
      `;
    }

    // Function to handle the "Add to Cart" button click
    function addToCartHandler() {
      // Here, you can implement your cart logic, such as adding the book to the cart array.
      // For this example, I'll just display a simple confirmation message.
      alert('Book added to cart!');
    }

    // Attach click event listener to the "Add to Cart" button
    const addToCartButton = document.getElementById('addToCartButton');
    addToCartButton.addEventListener('click', addToCartHandler);

    // Fetch book details and display them on page load
    document.addEventListener('DOMContentLoaded', () => {
      const bookId = getBookIdFromURL();
      fetchBookDetails(bookId);
    });
  </script>
</body>
</html>
